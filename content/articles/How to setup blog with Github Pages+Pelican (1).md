Title:Blogging with GitHub Pages + Pelican (1)
Date: 2015-07-11 12:40
Modified: 2015-07-11 12:50
Tags: tech-iT 
Category: Blog/English 
Slug: How_to_setup_blog_with_GitHub_Pages_Pelican(1)
Author: JIN Lin
[TOC]

### Why GitHub User Pages and Pelican 

  For layman like me who is neither wed designer nor software developer but intends to have a clean,simple and COOL place to keep record of your works,thoughts etc, this might be the perfect solution for you. Basically a STATIC website is generated by Pelican (written in Python) and hosted on GitHub for free. Contents can be written locally with Markdown editor, converted to HTML file by Pelican and then posted to the host through Git. I will strong recommend you to use Command Line to get most out of the rich functions all these tools have provide. If not for its advantages over GUI, at least for the coolness. :) As you get along with all these tools, it will be super efficient to write and publish. 
  
  Why not Wordpress, Jekyll or other fully functioned blogs provided by big companies. For me, I have some experiences in using Python, for the benefit of later stage modification and customisation, Jekyll which is built by Ruby is not my first choice; Wordpress is powerful, full of plugins, but I just want a purely static, clean, efficient and content-centered site; additionally, the time for personal blogs might have been past but I still feel greater ownership if I have full control of my website, including the domain name, the design and of course the contents. 
  
  That's it. Let's start. This guide best suits for those work on Mac but it should be very similar for Win/Linux systems. Different from other tutorials, this guide takes the approach of local to online, simple to complex, default to customisation. 
Get some confidence by setting up a working site first and then we worry about those terms such as GitHub, Git, Markdown, etc. 
  
###Step1: Configure Local Environment   
####1.1 Install Pelican and Markdown

Open **Terminal** on your Mac and install Pelican and Markdown on Python2.7x or Python3.3x (which you should have on your Mac) by running the following command:
	
	pip install pelican markdown
	
####1.2 Create a Project 
Go to your desired location where you want to keep the local blog files, and create a skeleton by running the command: 

	mkdir ~/blog
	cd ~/blog 
	pelican-quickstart

These's a series of questions relating to the configuration settings which can be editted later. Those in Capital are the default answer. 

	$ pelican-quickstart
	Where do you want to create your new web site? [.]
	What will be the title of this web site?
	> danceofdragon	
	Who will be the author of this web site?
	> danceofdragon	
	What will be the default language of this web site? [en]
	Do you want to specify a URL prefix? e.g., http://example.com   (Y/n)
	What is your URL prefix? (see above example; no trailing slash)
	> http://danceofdragon.github.io
	Do you want to enable article pagination? (Y/n)
	How many articles per page do you want? [5]
	Do you want to generate a Fabfile/Makefile to automate generation and publishing? (Y/n)
	Do you want an auto-reload & simpleHTTP script to assist with theme and site development? (Y/n)
	Do you want to upload your website using FTP? (y/N)
	Do you want to upload your website using SSH? (y/N)
	> y
	Do you want to upload your website using Dropbox? (y/N)
	Do you want to upload your website using S3? (y/N)
	Do you want to upload your website using Rackspace Cloud Files? (y/N)

	
Now you have a skeleton generated in the following structure: 

		blog/
		├── content              # store the original files you create e.g. markdown file 
			└──(pages)          	   # optional folder storing static pages created manually,such as About Me, Contact
			|__(images)				 # store images (optional)
		├── output               # store files （e.g.HTML）generated 
		├── develop_server.sh    # 
		├── Makefile             # control what *Make* to do 
		├── pelicanconf.py       # 
		└── publishconf.py       # (optional)

####1.3 Write an Article 
In any Markdown editor (e.g. Mou,MacDown,TextMate or even Vim and Emacs), write your first article and put it in the folder `content` you just created. Or I will recommend you to create a dedicated fold called `article` under `content`, which it parallel with `pages`,`images`. Pelican is smart enough to recognise these folders with proper configuration explained later. 


	Title: Title here !
	Date: 2015-07-11 10:20
	Modified: 2015-07-11 19:30
	Category: Python
	Tags: pelican, GitHub Pages
	Slug: my first post
	Authors: JIN Lin 
	Summary: test

	Current sentence and the following are the body of this article!
	This is the content of my super blog post.

The content above the body is called [metadata](http://docs.getpelican.com/en/latest/content.html). Pelican will extract information about the article such as title, author and use them track / categorise the articles. 

####1.4 Generate and Preview Your Site 

From your `blog` directory, run the command: 

	make devserver
	
Or is equivalent to run a series of commands: 

	make html / make publish 
	make serve
	
If no error message encountered, now you can preview your site at <localhost:8000> in your browser. By default, it looks something like this:

![notmyidea](https://dl.dropboxusercontent.com/u/18094167/BlogImages/notmyidea.png =500x300)



Congratulations! You have set up your blog locally. It is not accessible online yet with a unique public HTTP address yet. Now you will want to host it on to the GitHub User Pages and Publish your article.  


### Step 2: Setup Online Platform

####2.1 Create a GitHub User Page 
	
   Create an account with GitHub and start a new repository where you are going to host(aka:store) all your blog files. Follow the very first step of the [GitHub official guide](https://pages.github.com).
  
Name the repository in the form  *Username.GitHub.io* .which make the repository uniquely accessible later. Now you have a repository with the address `https://GitHub.com/username/username.GitHub.io ` which looks something like this: 

![setuppages](https://dl.dropboxusercontent.com/u/18094167/BlogImages/setuppages.png)


####2.2 Upload to Github


As you run the command `make devserver`, it automatically generates a folder called `output` which contains the HTML files. Go to output and run the following commands to upload to the repository (with a default repository URL alias called `origin` and a default branch called `master`). 

	git init    # create an empty git repository or reinitialise an existing one
	git add .	# add all files under tracking (to be committed)
	git remote add origin https://github.com/username/username.github.io
				# username is your Github account name as created, you need to enter the username and password for GitHub account. By setting up SSH keys we can skip this step. Explained later. 
	git commit -m 'your comments'	
				# record the changes to the repository 
	git push origin master 
				# upload the local changes to the remote repository 

Now, check your `settings` in your GitHub repository. If it shows the following message: 
![](https://dl.dropboxusercontent.com/u/18094167/BlogImages/settingssite.png)

Without a personal domain, the address will be `http://username.github.io` instead. To be explained how to set up your personal domain. 

You might encounter some error messages when running above Git commands like I have experienced when I pull/push back and forth. For example:

![](https://dl.dropboxusercontent.com/u/18094167/BlogImages/error1.png)

For this particular problem which you might be encounter later when you make other modifications, run the following code before push the changes if the remote files are unwanted anymore: 

	git remote -v 
	#show available repositories and branches
	git remote rm origin 
	#remove the URL for a remote repository 

It is better to know a bit about how Git and GitHub work at the start so you can transfer your files in the most efficient and safe manner. Go read the [Pro Git](https://git-scm.com/book/en/v2), at least the first 4 chapters to setup the Git and get a glimpse of how it works. 

As of now, a static site created with Pelican has been hosted on GitHub Pages and you can continue writing more articles, `commit` and `push` them to your blog. Next,you might want to change the **pelican-theme** to your taste, link to your **personal domain**, add more functions such as **Comments**, **Google Analytics**, **About** Pages. I will include these topics in my next post,[Blogging with GitHub Pages&Pelican in Two Steps(2)](http://linnus.net/posts/2015/Jul/11/How_to_setup_blog_with_GitHub_Pages_Pelican(2)). 




I referred to the following tutorial or docs. Great thanks to them! Especially [Amy Hanlon](http://mathamy.com/migrating-to-github-pages-using-pelican.html) for her generous sharing of her [blog source](https://github.com/amygdalama/blog-source) and clear tutorial. And thank the author of the theme of my blog [talha131](https://github.com/talha131/pelican-elegant/) for his great work!


Other useful links: 

- [GitHub Pages](https://pages.github.com) 
- [Pelican3.6.0 Documentation](http://docs.getpelican.com/en/3.6.0/)
- [使用Pelican和GitHub Pages搭建个人博客 —— 基础篇](http://www.xycoding.com/articles/2013/11/21/blog-create/)


